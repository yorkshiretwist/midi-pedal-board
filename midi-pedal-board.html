<!doctype html>
<html lang="en">
    <head>
        <title>MIDI Pedal Board</title>
        <style>
            /* If the unit is 300mm wide and shown at 90% of the viewport width, sort out the scale */
            :root {
                --unit-width: 300;
                --unit-height: 138;
                --screen-width: 77;
                --screen-height: 55;
                --button-size: 10;
                --button-width-gap: calc(57 * var(--scale));
                --button-height-gap: calc(39 * var(--scale));
                --unit-viewport-width: 80vw;
                --scale: 0.26vw;
            }
            * {
                box-sizing: border-box;
                padding: 0;
                margin: 0;
            }
            body {
                font-family: Arial, Helvetica, sans-serif;
                display: grid;
                align-items: center;
                justify-content: center;
                width: 100vw;
                height: 92vh;
                grid-template-rows: 5vh 80vh 7vh;
                background-color: rgb(101, 104, 95);
                background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAATq0lEQVRoQ02aBaws1dKFe3qzmWbgEh4WJHjycAjuQYM/LEBwdw/BCR7cgz/DIcHdNVjw4BY0QRI0yDBD0837vkrP/f9Jbs45M9N776patWpV7du76qqr8pprrln9+uuvo6Io8ltvvdW+9957+dNPPx1us802xQ033DDYZJNNRsstt1zed999i6+//rrYdNNN6/vuuy/feOON7UsvvZSPOuqoYoEFFqhvu+225o033qjuuuuuZs455yyOPfbY9tprry2++uqr5p///GfB96rHH3985J5HHHFEy37FAQccUJ999tn9ffbZp/jHP/7hd4u55pqr4Pn02Wef1auttlp5zz331F9++WXl9++88856lVVWafz9p59+qno8PGXbbbetx+NxXnjhhYccsO8iv/zyS8smjZuNRqO0+uqrF/w+Ov7446sZZpihvvjii/P+++/fLL/88unNN9+sn3zyyWLrrbduvv/++zTLLLO4Qb733nuLk08+uX766aerv//97w3r1hw044w4kIb/5z//KWpea6+9dsn6tYe65ZZbRksvvXQ166yzFpyvPuWUU8pXX321WHTRRRNnbXQkr3rdddeteiw2mDJlSqsn+v3+4LnnnisOO+ywho0LN+JfwQOZCCUPcfTRR6frrrtOL1a878/i1ltvbd99991MZEoMGnOwwRprrNHwvfG3336bTzrppILnS9f8/PPP03zzzTfS0KWWWiqfc845xZ577qnXhzilv+qqq7ZErvSErJ/++usvo94QnZqfmcjUrJO/++679plnnsm9q6++upp++ulrNs277bZbgaUl3k5AYoj1Wt6+//77g7POOqt+4YUXsh575513Rhyu4uDNoYceOubfQM8YaiASHmTDRAQaofHxxx9XeHa00korVRtttFHzySefJBxRALXi+eefLzCkxqAGWCaMzbPNNltx+umn+2zCIf6st9pqq0oUnHbaaRo6OOaYY4xo0cPCyhDtuuuu7Zlnntmst9567fXXX983F9Zff/3A2o8//tjiqSzOgUrm+4VeJXLlZpttVuy0007JA4LNhBNKPJqA4BDHmFMN3q8eeuihGkwX++23X95+++31Yv3KK6+UwLPiQMOXX34583npYYlqi4cHPCe0CiBZVlWVjNKGG244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); 
            }
            h1 {
                font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
                font-size: 1em;
            }
            #pedal-board {
                display: grid;                    
                background-color: #171717;
                background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAATq0lEQVRoQ02aBaws1dKFe3qzmWbgEh4WJHjycAjuQYM/LEBwdw/BCR7cgz/DIcHdNVjw4BY0QRI0yDBD0837vkrP/f9Jbs45M9N776patWpV7du76qqr8pprrln9+uuvo6Io8ltvvdW+9957+dNPPx1us802xQ033DDYZJNNRsstt1zed999i6+//rrYdNNN6/vuuy/feOON7UsvvZSPOuqoYoEFFqhvu+225o033qjuuuuuZs455yyOPfbY9tprry2++uqr5p///GfB96rHH3985J5HHHFEy37FAQccUJ999tn9ffbZp/jHP/7hd4u55pqr4Pn02Wef1auttlp5zz331F9++WXl9++88856lVVWafz9p59+qno8PGXbbbetx+NxXnjhhYccsO8iv/zyS8smjZuNRqO0+uqrF/w+Ov7446sZZpihvvjii/P+++/fLL/88unNN9+sn3zyyWLrrbduvv/++zTLLLO4Qb733nuLk08+uX766aerv//97w3r1hw044w4kIb/5z//KWpea6+9dsn6tYe65ZZbRksvvXQ166yzFpyvPuWUU8pXX321WHTRRRNnbXQkr3rdddeteiw2mDJlSqsn+v3+4LnnnisOO+ywho0LN+JfwQOZCCUPcfTRR6frrrtOL1a878/i1ltvbd99991MZEoMGnOwwRprrNHwvfG3336bTzrppILnS9f8/PPP03zzzTfS0KWWWiqfc845xZ577qnXhzilv+qqq7ZErvSErJ/++usvo94QnZqfmcjUrJO/++679plnnsm9q6++upp++ulrNs277bZbgaUl3k5AYoj1Wt6+//77g7POOqt+4YUXsh575513Rhyu4uDNoYceOubfQM8YaiASHmTDRAQaofHxxx9XeHa00korVRtttFHzySefJBxRALXi+eefLzCkxqAGWCaMzbPNNltx+umn+2zCIf6st9pqq0oUnHbaaRo6OOaYY4xo0cPCyhDtuuuu7Zlnntmst9567fXXX983F9Zff/3A2o8//tjiqSzOgUrm+4VeJXLlZpttVuy0007JA4LNhBNKPJqA4BDHmFMN3q8eeuihGkwX++23X95+++31Yv3KK6+UwLPiQMOXX34583npYYlqi4cHPCe0CiBZVlWVjNKGG244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); 
                width: calc(var(--scale) * var(--unit-width));
                height: calc(var(--scale) * var(--unit-height));
                border: 1px solid #000;
                border-radius: 0.3vw;
                box-shadow: 1px 6px 14px 0px rgba(0,0,0,0.75);
                grid-template-columns:
                    4%
                    calc(var(--scale) * var(--button-size)) 
                    var(--button-width-gap)
                    calc(var(--scale) * var(--button-size))
                    var(--button-width-gap)
                    calc(var(--scale) * var(--button-size))
                    var(--button-width-gap)
                    calc(var(--scale) * var(--button-size))
                    var(--button-width-gap)
                    calc(var(--scale) * var(--button-size));
                grid-template-rows:
                    8%
                    calc(var(--scale) * var(--button-size))
                    var(--button-height-gap)
                    calc(var(--scale) * var(--button-size))
                    var(--button-height-gap)
                    calc(var(--scale) * var(--button-size));
            }
            #screen {
                background: #161616;
                width: calc(var(--scale) * var(--screen-height));
                height: calc(var(--scale) * var(--screen-width));
                grid-column-start: 2;
                grid-row-start: 2;
                color: #fff;
                padding: 0.5vw;
            }
            #screen h1,
            #screen h2,
            #screen h3,
            #screen h4,
            #screen h5,
            #screen h6 {
                margin: 0 0 0.5vw;
                padding: 0;
                font-weight: normal;
                font-size: 1.2vw;
                filter: blur(0.3px);
            }
            #screen h1 {
                text-transform: uppercase;
                font-size: 1.4vw;
            }
            [data-colour="blue"] #screen {
                color: rgb(38, 125, 255);
            }
            [data-colour="green"] #screen{
                color: #80FF00;
            }
            [data-colour="red"] #screen {
                color: #F00;
            }
            [data-colour="yellow"] #screen {
                color: #FF0;
            }
            [data-colour="orange"] #screen {
                color: #FF7000;
            }
            .foot-switch {
                text-shadow: hsla(0,0%,40%,.5) 0 -1px 0, hsla(0,0%,100%,.6) 0 2px 1px;
                padding: 0 0;
                line-height: var(--button-size);
                height: calc(var(--scale) * var(--button-size));
                width: calc(var(--scale) * var(--button-size));
                border-radius: 50%;
                text-align: center;
                border: none;
                background: #aaa;
                background-image: -webkit-radial-gradient( 50% 0%, 8% 50%, hsla(0,0%,100%,.5) 0%, hsla(0,0%,100%,0) 100%),
    -webkit-radial-gradient( 50% 100%, 12% 50%, hsla(0,0%,100%,.6) 0%, hsla(0,0%,100%,0) 100%),
    -webkit-radial-gradient( 0% 50%, 50% 7%, hsla(0,0%,100%,.5) 0%, hsla(0,0%,100%,0) 100%),
    -webkit-radial-gradient( 100% 50%, 50% 5%, hsla(0,0%,100%,.5) 0%, hsla(0,0%,100%,0) 100%),
    -webkit-repeating-radial-gradient( 50% 50%, 100% 100%, hsla(0,0%, 0%,0) 0%, hsla(0,0%, 0%,0) 3%, hsla(0,0%, 0%,.1) 3.5%),
    -webkit-repeating-radial-gradient( 50% 50%, 100% 100%, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 6%, hsla(0,0%,100%,.1) 7.5%),
    -webkit-repeating-radial-gradient( 50% 50%, 100% 100%, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.2) 2.2%),
    -webkit-radial-gradient( 50% 50%, 200% 50%, hsla(0,0%,90%,1) 5%, hsla(0,0%,85%,1) 30%, hsla(0,0%,60%,1) 100%);
                position: relative;
                display: grid;
                justify-items: center;
                transition: all 0.1s ease-out;
            }
            .foot-switch:active {
                box-shadow: inset hsla(0,0%,15%, 1) 0 0px 0px 4px,
                    /* border */ inset hsla(0,0%,15%, .8) 0 -1px 5px 4px,
                    /* soft SD */ inset hsla(0,0%,0%, .25) 0 -1px 0px 7px,
                    /* bottom SD */ inset hsla(0,0%,100%,.7) 0 2px 1px 7px,
                    /* top HL */ hsla(0,0%, 0%,.15) 0 -5px 6px 4px,
                    /* outer SD */ hsla(0,0%,18%,.5) 0 5px 6px 4px;
            }
            .foot-switch:before {
                content: '';
                color: #fff;
                position: absolute;
                top: -6vw;
                text-align: center;
                width: calc(var(--scale) * var(--button-size));
                display: block;
                font-size: 0.9vw;
            }
            .foot-switch[id="1"]:after,
            .foot-switch[id="2"]:after,
            .foot-switch[id="3"]:after,
            .foot-switch[id="4"]:after,
            .foot-switch[id="5"]:after,
            .foot-switch[id="a"]:after,
            .foot-switch[id="b"]:after,
            .foot-switch[id="c"]:after {
                content: ' ';
                border-radius: 50%;;
                position: absolute;
                top: -4vw;
                text-align: center;
                width: calc(calc(var(--scale) * var(--button-size)) / 4);
                height: calc(calc(var(--scale) * var(--button-size)) / 4);
                display: block;
                background-color: rgba(255, 255, 255, 0.25);
                box-shadow: #000 0 -1px 6px 1px;
            }
            [data-colour="blue"] .foot-switch.active:after {
                background-color: rgb(38, 125, 255);
                box-shadow: #000 0 -1px 6px 1px, inset #006 0 -1px 8px, rgb(38, 125, 255) 0 3px 11px;
            }
            [data-colour="green"] .foot-switch.active:after {
                background-color: #80FF00;
                box-shadow: #000 0 -1px 6px 1px, inset #460 0 -1px 8px, #80FF00 0 3px 11px;
            }
            [data-colour="red"] .foot-switch.active:after {
                background-color: #F00;
                box-shadow: #000 0 -1px 6px 1px, inset #600 0 -1px 8px, #F00 0 3px 11px;
            }
            [data-colour="yellow"] .foot-switch.active:after {
                background-color: #FF0;
                box-shadow: #000 0 -1px 6px 1px, inset #660 0 -1px 8px, #FF0 0 3px 11px;
            }
            [data-colour="orange"] .foot-switch.active:after {
                background-color: #FF7000;
                box-shadow: #000 0 -1px 6px 1px, inset #630 0 -1px 8px, #FF7000 0 3px 11px;
            }
            .foot-switch[id="1"] {
                grid-column-start: 2;
                grid-row-start: 7;
            }
            .foot-switch[id="1"]:before {
                content: '1';
            }
            .foot-switch[id="2"] {
                grid-column-start: 4;
                grid-row-start: 7;
            }
            .foot-switch[id="2"]:before {
                content: '2';
            }
            .foot-switch[id="3"] {
                grid-column-start: 6;
                grid-row-start: 7;
            }
            .foot-switch[id="3"]:before {
                content: '3';
            }
            .foot-switch[id="4"] {
                grid-column-start: 8;
                grid-row-start: 7;
            }
            .foot-switch[id="4"]:before {
                content: '4';
            }
            .foot-switch[id="5"] {
                grid-column-start: 10;
                grid-row-start: 7;
            }
            .foot-switch[id="5"]:before {
                content: '5';
            }
            .foot-switch[id="a"] {
                grid-column-start: 4;
                grid-row-start: 5;
            }
            .foot-switch[id="a"]:before {
                content: 'A';
            }
            .foot-switch[id="c"] {
                grid-column-start: 6;
                grid-row-start: 5;
            }
            .foot-switch[id="c"]:before {
                content: 'C';
            }
            .foot-switch[id="b"] {
                grid-column-start: 6;
                grid-row-start: 5;
            }
            .foot-switch[id="b"]:before {
                content: 'B';
            }
            .foot-switch[id="c"] {
                grid-column-start: 8;
                grid-row-start: 5;
            }
            .foot-switch[id="c"]:before {
                content: 'C';
            }
            .foot-switch[id="down"] {
                grid-column-start: 10;
                grid-row-start: 5;
            }
            .foot-switch[id="down"]:before {
                content: '\25BC';
            }
            .foot-switch[id="up"] {
                grid-column-start: 10;
                grid-row-start: 3;
            }
            .foot-switch[id="up"]:before {
                content: '\25B2';
            }
            .foot-switch[id="left"] {
                grid-column-start: 6;
                grid-row-start: 3;
            }
            .foot-switch[id="left"]:before {
                content: '\25C0';
            }
            .foot-switch[id="right"] {
                grid-column-start: 8;
                grid-row-start: 3;
            }
            .foot-switch[id="right"]:before {
                content: '\25B6';
            }
            .foot-switch[id="mode"] {
                grid-column-start: 4;
                grid-row-start: 3;
            }
            .foot-switch[id="mode"]:before {
                content: 'MODE';
            }
            .double-switch {
                background: none;
                color: #fff;
                border: 0;
                text-transform: uppercase;
                align-self: start;
                padding-top: calc(var(--scale) * 2);
                font-size: 0.9vw;
            }
            #enter {
                grid-column-start: 7;
                grid-row-start: 3;
            }
            #cancel {
                grid-column-start: 9;
                grid-row-start: 3;
            }
            #options {
                padding: 3em 1em;
            }
            #options ul,
            header ul {
                list-style: none;
                display: flex;
            }
            #options ul li,
            header ul li {
                flex-grow: 1;
            }
            header {
                display: grid;
                grid-template-columns: 1fr 3fr;
                color: #fff;
            }
            #help,
            #help article {
                display: none;
            }
            #help.active {
                display: block;
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                background-color: rgba(0, 0, 0, 0.5);
            }
            #help article.active {
                display: block;
                padding: 1em;
                border-radius: 0.3em;
                background: #111;
                color: #fff;
                position: absolute;
                top: 2em;
                bottom: 2em;
                left: 0;
                right: 0;
                margin: 0 12em;
            }
            #help p,
            #help ul {
                margin-top: 1em;
            }
            #help ul {
                margin-left: 1em;
            }
            a {
                color: #fff;
            }
        </style>
    </head>
    <body data-colour="blue">
        <header>
            <h1>MIDI Pedal Board</h1>
            <ul>
                <li>
                    <a href="#chordMode">Chord mode</a>
                </li>
                <li>
                    <a href="#noteMode">Note mode</a>
                </li>
            </ul>
        </header>
        <section id="pedal-board">
            <div id="screen"></div>
            <button class="foot-switch row-1" id="1" data-note-index="0"></button>
            <button class="foot-switch row-1" id="2" data-note-index="1"></button>
            <button class="foot-switch row-1" id="3" data-note-index="3"></button>
            <button class="foot-switch row-1" id="4" data-note-index="4"></button>
            <button class="foot-switch row-1" id="5" data-note-index="5"></button>
            <button class="foot-switch row-2" id="a" data-note-index="2"></button>
            <button class="foot-switch row-2" id="b" data-note-index="6"></button>
            <button class="foot-switch row-2" id="c"></button>
            <button class="foot-switch" id="up"></button>
            <button class="foot-switch" id="down"></button>
            <button class="foot-switch" id="left"></button>
            <button class="foot-switch" id="right"></button>
            <button class="foot-switch" id="mode"></button>
            <button class="double-switch" id="enter">&#8212; &nbsp; &nbsp; &nbsp; &nbsp; Enter &nbsp; &nbsp; &nbsp; &nbsp; &#8212;</button>
            <button class="double-switch" id="cancel">&#8212; &nbsp; &nbsp; &nbsp; &nbsp; Cancel &nbsp; &nbsp; &nbsp; &nbsp; &#8212;</button>
        </section>
        <section id="options">
            <ul>
                <li>
                    <label>
                        <input type="radio" name="colour" value="blue" checked />
                        Blue
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="colour" value="red" />
                        Red
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="colour" value="green" />
                        Green
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="colour" value="yellow" />
                        Yellow
                    </label>
                </li>
                <li>
                    <label>
                        <input type="radio" name="colour" value="orange" />
                        Orange
                    </label>
                </li>
            </ul>
        </section>
        <section id="help">
            <article id="chordMode">
                <h2>Chord mode (press escape to close)</h2>
                <p>Chord mode sends a set of MIDI note messages, great for playing a pad or string sound. The notes sent depend on the chosen key, the selected root note, the selected octave, and the chord spread.</p>
                <p>Five chords are available in each key (plus 5 in the relative minor key). Buttons 1 - 5 change the chord. In a major key the chords are:</p>
                <ul>
                    <li>1: Chord 1 (tonic)</li>
                    <li>2: Chord 2 (supertonic)</li>
                    <li>3: Chord 4 (subdominant)</li>
                    <li>4: Chord 5 (dominant)</li>
                    <li>5: Chord 6 (submediant)</li>
                </ul>
                <p>Pressing a button triggers the chord and will keep it playing. Pressing the same button again will stop the chord playing. Pressing a different button 1 - 5 will stop the current chord playing and trigger the new chord.</p>
                <p>The left (&#x25C0;) and right (&#x25B6;) buttons change the octave, with the initial octave being 3 (i.e. C3 and up). The minimum octave is 0 and the maximum is 6.</p>
                <p>The up (&#x25B2;) and down (&#x25BC;) buttons change the key. These buttons round the 12 chromatic notes, with C the default key.</p>
                <p>The A -C buttons set the chord spread. This is how many notes the chord contains, and therefore how 'big' the chord sounds. I have some ideas about how complex this could be, but can't be bothered typing it all out now.</p>
            </article>
            <article id="noteMode">
                <h2>Note mode (press escape to close)</h2>
                <p>Note mode sends a MIDI note message, which can be used to trigger samples or play a sound on a MIDI instrument. The note sent depends on the selected 1 - 5 or A - B button, and the selected octave.</p>
                <p>Eight notes are available in each key. Buttons 1 - 5 and A - B send the following notes, where the more common ones are played by buttons 1 - 5:</p>
                <ul>
                    <li>1: Note 1 (tonic)</li>
                    <li>2: Note 2 (supertonic)</li>
                    <li>3: Note 4 (subdominant)</li>
                    <li>4: Note 5 (dominant)</li>
                    <li>5: Note 6 (submediant)</li>
                    <li>A: Note 3 (mediant)</li>
                    <li>B: Note 7 (leading note)</li>
                </ul>
                <p>Pressing a button triggers the note and will keep it playing. Pressing the same button again will stop the note playing. Pressing a different button 1 - 5 or A - B will stop the current note playing and play the new selected note.</p>
                <p>The left (&#x25C0;) and right (&#x25B6;) buttons change the octave, with the initial octave being 3 (i.e. C3 and up). The minimum octave is 0 and the maximum is 6.</p>
                <p>The up (&#x25B2;) and down (&#x25BC;) buttons change the key. These buttons cycle round the 12 chromatic notes, with C the default key.</p>
                <p>The C button toggles between major and the relative minor key.</p>
            </article>
        </section>
        <script>
            const body = document.querySelector('body'),
                modes = ['note', 'chord'],
                noteButtons = ['1', '2', '3', '4', '5', 'a', 'b'],
                noteButtonElements = [],
                chordButtons = ['1', '2', '3', '4', '5'],
                chordButtonElements = [],
                chordSpreadButtons = ['a', 'b', 'c'],
                chordSpreadButtonElements = []
                keys = [
                    {
                        'index': 0,
                        'majorKey': 'C major',
                        'majorChords': ['C', 'Dm', 'F', 'G', 'Am'],
                        'majorNotes': ['C', 'D', 'E', 'F', 'G', 'A', 'B'],
                        'minorKey': 'A minor',
                        'minorChords': ['Am', 'C', 'Dm', 'F', 'G'],
                        'minorNotes': ['A', 'B', 'C', 'D', 'E', 'F', 'G']
                    },
                    {
                        'index': 1,
                        'majorKey': 'Db major',
                        'majorChords': ['Db', 'Ebm', 'Gb', 'Ab', 'Bbm'],
                        'majorNotes': ['Db', 'Eb', 'F', 'Gb', 'Ab', 'Bb', 'C'],
                        'minorKey': 'Bb minor',
                        'minorChords': ['Bbm', 'Db', 'Ebm', 'Gb', 'Ab'],
                        'minorNotes': ['Bb', 'C', 'Db', 'Eb', 'F', 'Gb', 'Ab']
                    },
                    {
                        'index': 2,
                        'majorKey': 'D major',
                        'majorChords': ['D', 'Em', 'G', 'A', 'Bm'],
                        'majorNotes': ['D', 'E', 'F#', 'G', 'A', 'B', 'C#'],
                        'minorKey': 'B minor',
                        'minorChords': ['Bm', 'D', 'Em', 'G', 'A'],
                        'minorNotes': ['B', 'C#', 'D', 'E', 'F#', 'G', 'A']
                    },
                    {
                        'index': 3,
                        'majorKey': 'Eb major',
                        'majorChords': ['Eb', 'Fm', 'Ab', 'Bb', 'Cm'],
                        'majorNotes': ['Eb', 'F', 'G', 'Ab', 'Bb', 'C', 'D'],
                        'minorKey': 'C minor',
                        'minorChords': ['Cm', 'Eb', 'Fm', 'Ab', 'Bb'],
                        'minorNotes': ['C', 'D', 'Eb', 'F', 'G', 'Ab', 'Bb']
                    },
                    {
                        'index': 4,
                        'majorKey': 'E major',
                        'majorChords': ['E', 'F#m', 'A', 'B', 'C#m'],
                        'majorNotes': ['E', 'F#', 'G#', 'A', 'B', 'C#', 'D#'],
                        'minorKey': 'C# minor',
                        'minorChords': ['C#m', 'E', 'F#m', 'A', 'B'],
                        'minorNotes': ['C#', 'D#', 'E', 'F#', 'G#', 'A', 'B']
                    },
                    {
                        'index': 5,
                        'majorKey': 'F major',
                        'majorChords': ['F', 'Gm', 'Bb', 'C', 'Dm'],
                        'majorNotes': ['F', 'G', 'A', 'Bb', 'C', 'D', 'E'],
                        'minorKey': 'D minor',
                        'minorChords': ['Dm', 'F', 'Gm', 'Bb', 'C'],
                        'minorNotes': ['D', 'E', 'F', 'G', 'A', 'Bb', 'C']
                    },
                    {
                        'index': 6,
                        'majorKey': 'Gb major',
                        'majorChords': ['Gb', 'Abm', 'Cb', 'Db', 'Ebm'],
                        'majorNotes': ['Gb', 'Ab', 'Bb', 'Cb', 'Db', 'Eb', 'F'],
                        'minorKey': 'Eb minor',
                        'minorChords': ['Ebm', 'Gb', 'Abm', 'Cb', 'Db'],
                        'minorNotes': ['Eb', 'F', 'Gb', 'Ab', 'Bb', 'Cb', 'Db']
                    },
                    {
                        'index': 7,
                        'majorKey': 'G major',
                        'majorChords': ['G', 'Am', 'C', 'D', 'Em'],
                        'majorNotes': ['G', 'A', 'B', 'C', 'D', 'E', 'F#'],
                        'minorKey': 'E minor',
                        'minorChords': ['Em', 'G', 'Am', 'C', 'Dm'],
                        'minorNotes': ['E', 'F#', 'G', 'A', 'B', 'C', 'D']
                    },
                    {
                        'index': 8,
                        'majorKey': 'Ab major',
                        'majorChords':  ['Ab', 'Bbm', 'Db', 'Eb', 'Fm'],
                        'majorNotes': ['Ab', 'Bb', 'C', 'Db', 'Eb', 'F', 'G'],
                        'minorKey': 'F minor',
                        'minorChords': ['Fm', 'Ab', 'Bbm', 'Db', 'Eb'],
                        'minorNotes': ['F', 'G', 'Ab', 'Bb', 'C', 'Db', 'Eb']
                    },
                    {
                        'index': 9,
                        'majorKey': 'A major',
                        'majorChords':  ['A', 'Bm', 'D', 'E', 'F#m'],
                        'majorNotes': ['A', 'B', 'C#', 'D', 'E', 'F#', 'G#'],
                        'minorKey': 'F# minor',
                        'minorChords': ['F#m', 'A', 'Bm', 'D', 'E'],
                        'minorNotes': ['F#', 'G#', 'A', 'B', 'C#', 'D', 'E']
                    },
                    {
                        'index': 10,
                        'majorKey': 'Bb major',
                        'majorChords':  ['Bb', 'Cm', 'Eb', 'F', 'Gm'],
                        'majorNotes': ['Bb', 'C', 'D', 'Eb', 'F', 'G', 'A'],
                        'minorKey': 'G minor',
                        'minorChords': ['Gm', 'Bb', 'Cm', 'Eb', 'F'],
                        'minorNotes': ['G', 'A', 'Bb', 'C', 'D', 'Eb', 'F']
                    },
                    {
                        'index': 11,
                        'majorKey': 'B major',
                        'majorChords':  ['B', 'C#m', 'E', 'F#', 'G#m'],
                        'majorNotes': ['B', 'C#', 'D#', 'E', 'F#', 'G#', 'A#'],
                        'minorKey': 'G# minor',
                        'minorChords': ['G#m', 'B', 'C#m', 'E', 'F#'],
                        'minorNotes': ['G#', 'A#', 'B', 'C#', 'D#', 'E', 'F#']
                    }
                ];
            let currentMode = 'note',
                currentMajorMinorMode = 'major',
                currentKeyName = 'C major',
                currentKeyIndex = 0,
                currentOctave = 3,
                currentChordIndex = null,
                currentChordSpread = 'small',
                currentNoteIndex = null;

            function initialise() {
                noteButtons.forEach((id) => {
                    noteButtonElements.push(document.getElementById(id));
                });
                chordButtons.forEach((id) => {
                    chordButtonElements.push(document.getElementById(id));
                });
                chordSpreadButtons.forEach((id) => {
                    chordSpreadButtonElements.push(document.getElementById(id));
                });
            }

            const footSwitches = document.querySelectorAll('.foot-switch'),
                screen = document.getElementById('screen');

            footSwitches.forEach((el) => {
                el.addEventListener('click', function(){ handleClick(el); });
            });

            function handleClick(el) {
                if (currentMode === 'note') {
                    if (noteButtons.includes(el.id)) {
                        toggleNote(el);
                    }
                    if (el.id === 'c') {
                        toggleMajorMinor();
                        highlightMomentaryButton(el);
                    }
                }

                if (currentMode === 'chord') {
                    if (chordButtons.includes(el.id)) {
                        toggleChord(el);
                    }
                    if (chordSpreadButtons.includes(el.id)) {
                        toggleChordSpread(el);
                    }
                }
                if (['left', 'right', 'up', 'down'].includes(el.id)) {
                    toggleDirectionButton(el);
                }
                if (el.id === 'mode') {
                    toggleMode();
                }
                renderScreen();
            }

            function highlightMomentaryButton(el) {
                el.classList.add('active');
                setTimeout(() => {
                    el.classList.remove('active');
                }, 250);
            }

            function toggleMode() {
                currentMode = currentMode === 'note' ? 'chord' : 'note';
                if (currentMode === 'chord') {
                    setCurrentChordSpread('a');
                } else {
                    setCurrentChordSpread(null);
                }
            }

            function toggleNote(el) {
                let ix = parseInt(el.dataset.noteIndex);
                setCurrentNoteIndex(ix);
            }

            function toggleChord(el) {
                setCurrentChordIndex(parseInt(el.id) - 1);
            }

            function toggleChordSpread(el) {
                setCurrentChordSpread(el.id);
            }

            function toggleDirectionButton(el) {
                // go down an octave
                if (el.id === 'left' && currentOctave > 0) {
                    currentOctave = currentOctave - 1;
                }
                // go up an octave
                if (el.id === 'right' && currentOctave < 6) {
                    currentOctave = currentOctave + 1;
                }
                // go up a key
                if (el.id === 'up') {
                    currentKeyIndex = currentKeyIndex + 1;
                    if (currentKeyIndex === keys.length) {
                        currentKeyIndex = 0;
                    }
                    setCurrentChordIndex(null);
                    setCurrentNoteIndex(null);
                    currentKey = getKey();
                    setCurrentKeyName();
                }
                // go down a key
                if (el.id === 'down') {
                    currentKeyIndex = currentKeyIndex - 1;
                    if (currentKeyIndex === -1) {
                        currentKeyIndex = keys.length - 1;
                    }
                    setCurrentChordIndex(null);
                    setCurrentNoteIndex(null);
                    currentKey = getKey();
                    setCurrentKeyName();
                }
            }

            function setCurrentChordIndex(ix) {
                chordButtonElements.forEach((sw) => {
                    sw.classList.remove('active');
                });
                if (ix === null) {
                    currentChordIndex = null;
                    return;
                }
                const el = document.getElementById(ix + 1);
                if (currentMode === 'chord' && currentChordIndex === ix) {
                    el.classList.remove('active');
                    currentChordIndex = null;
                } else {
                    el.classList.add('active');
                    currentChordIndex = ix;
                }
            }

            function setCurrentNoteIndex(ix) {
                noteButtonElements.forEach((sw) => {
                    sw.classList.remove('active');
                });
                if (ix === null || currentNoteIndex === ix) {
                    currentNoteIndex = null;
                    return;
                }
                const el = document.querySelector(`[data-note-index="${ix}"]`);
                if (currentMode === 'chord' && currentNoteIndex === ix) {
                    el.classList.remove('active');
                    currentNoteIndex = null;
                } else {
                    el.classList.add('active');
                    currentNoteIndex = ix;
                }
            }

            function setCurrentChordSpread(buttonId) {
                chordSpreadButtonElements.forEach((sw) => {
                    sw.classList.remove('active');
                });
                if (buttonId === null) {
                    return;
                }
                if (buttonId === 'a') {
                    currentChordSpread = 'small';
                }
                if (buttonId === 'b') {
                    currentChordSpread = 'medium';
                }
                if (buttonId === 'c') {
                    currentChordSpread = 'wide';
                }
                const el = document.querySelector(`#${buttonId}`);
                el.classList.add('active');
            }

            function toggleMajorMinor() {
                currentMajorMinorMode = currentMajorMinorMode === 'major' ? 'minor' : 'major';
                currentKey = getKey();
                setCurrentKeyName();
                setCurrentNoteIndex(null);

            }

            function setCurrentKeyName() {
                currentKeyName = currentMajorMinorMode === 'major' ? currentKey['majorKey'] : currentKey['minorKey'];
            }

            function renderScreen() {
                if (currentMode === 'chord') {
                    renderChordScreen();
                }
                if (currentMode === 'note') {
                    renderNoteScreen();
                }
            }

            function renderChordScreen() {
                let key = currentKeyName,
                    chord = '',
                    spread = '';
                if (currentChordIndex !== null) {
                    let chordName = getChord();
                    chord = `<h2>Chord: ${chordName}</h2>`;
                }
                screen.innerHTML = `
                <h1>Chord mode</h1>
                <h2>Key: ${key}</h2>
                <h2>Octave: ${currentOctave}</h2>
                <h2>Spread: ${currentChordSpread}</h2>
                ${chord}
                `;
            }

            function renderNoteScreen() {
                let key = currentKeyName,
                    note = '';
                if (currentNoteIndex !== null) {
                    let noteName = getNote();
                    note = `<h2>Note: ${noteName}</h2>`;
                }
                screen.innerHTML = `
                <h1>Note mode</h1>
                <h2>Key: ${key}</h2>
                <h2>Octave: ${currentOctave}</h2>
                ${note}
                `;
            }

            function getChord() {
                let key = getChords();
                return key[currentChordIndex];
            }

            function getNote() {
                let key = getNotes();
                return key[currentNoteIndex].trimEnd('m');
            }

            function getKey() {
                return keys.find(obj => {
                    return obj.index === currentKeyIndex;
                });
            }

            function getChords() {
                return currentMajorMinorMode === 'major' ? getKey()['majorChords'] : getKey()['minorChords'];
            }

            function getNotes() {
                return currentMajorMinorMode === 'major' ? getKey()['majorNotes'] : getKey()['minorNotes'];
            }

            const colourInputs = document.querySelectorAll('input[name="colour"]');
            colourInputs.forEach((el) => {
                el.addEventListener('click', function() {
                    body.setAttribute('data-colour', el.value);
                });
            });

            const helpLinks = document.querySelectorAll('header a'),
                helpSection = document.getElementById('help');
            helpLinks.forEach((el) => {
                el.addEventListener('click', function() {
                    helpSection.classList.add('active');
                    const selectedHelpArticle = document.getElementById(el.href.split('#')[1]);
                    selectedHelpArticle.classList.add('active');
                    body.addEventListener('keyup', (k) => {
                        if (k.key === "Escape") {
                            helpSection.classList.remove('active');
                            selectedHelpArticle.classList.remove('active');
                        }
                    }, { once: true });
                });
            });

            initialise();
            renderScreen();
        </script>
        <!--
            LED styling from: https://github.com/aus/led.css
            Brushed metal effect modified from: https://codepen.io/oobleck/pen/MYBvGa
        -->
    </body>
</html>